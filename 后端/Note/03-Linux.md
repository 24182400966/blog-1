# Linux

## 文件系统

![Linux的目录结构](https://raw.githubusercontent.com/chanshiyucx/poi/master/2019/Linux%E7%9A%84%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84.png)

| 目录 | 说明                                                                     |
| ---- | ------------------------------------------------------------------------ |
| bin  | 存放二进制可执行文件                                                     |
| sbin | 存放二进制可执行文件，只有 root 才能访问                                 |
| boot | 存放用于系统引导时使用的各种文件                                         |
| dev  | 用于存放设备文件                                                         |
| etc  | 存放系统配置文件                                                         |
| root | 超级用户目录                                                             |
| home | 存放所有用户文件的根目录                                                 |
| lib  | 存放跟文件系统中的程序运行所需要的共享库及内核模块                       |
| mnt  | 系统管理员安装临时文件系统的安装点                                       |
| opt  | 额外安装的可选应用程序包所放置的位置                                     |
| proc | 虚拟文件系统，存放当前内存的映射                                         |
| tmp  | 用于存放各种临时文件                                                     |
| usr  | 用于存放系统应用程序，比较重要的目录 `/usr/local` 本地管理员软件安装目录 |
| var  | 用于存放运行时需要改变数据的文件                                         |

## 常见命令

### 命令基本格式

`[chan@localhost ~]$` 命令提示符：

- `chan` 表示当前登录用户，`root` 是超级管理员
- `localhost` 表示主机名
- `~` 表示当前目录（家目录），其中超级管理员家目录为 `/root`，普通用户家目录为 `/home/chan`
- `$` 表示普通用户提示符，`#` 表示超级管理员提示符

Linux 命令格式：`命令 [选项] [参数]`，需要注意：个别命令不遵守此规则，选项可以简化，如一些命令 `-a` 等同于 `--all`。

### 系统管理命令

| 命令     | 说明                                          |
| -------- | --------------------------------------------- |
| stat     | 显示指定文件的相关信息,比 ls 命令显示内容更多 |
| who      | 显示在线登录用户                              |
| hostname | 显示主机名称                                  |
| uname    | 显示系统信息                                  |
| top      | 显示当前系统中耗费资源最多的进程              |
| ps       | 显示瞬间的进程状态                            |
| du       | 显示指定的文件（目录）已使用的磁盘空间的总量  |
| df       | 显示文件系统磁盘空间的使用情况                |
| free     | 显示当前内存和交换空间的使用情况              |
| ifconfig | 显示网络接口信息                              |
| ping     | 测试网络的连通性                              |
| netstat  | 显示网络状态信息                              |
| clear    | 清屏                                          |
| kill     | 杀死一个进程                                  |

### 文件目录命令

| 命令  | 说明                               | 语法                                  | 参数  | 参数说明                           |
| ----- | ---------------------------------- | ------------------------------------- | ----- | ---------------------------------- |
| ls    | 显示文件和目录列表                 | ls                                    |       |                                    |
|       |                                    |                                       | -l    | 列出文件的详细信息                 |
|       |                                    |                                       | -a    | 列出当前目录所有文件，包含隐藏文件 |
| mkdir | 创建目录                           | mkdir [-p] dirName                    |       |                                    |
|       |                                    |                                       | -p    | 父目录不存在情况下先生成父目录     |
| cd    | 切换目录                           | cd [dirName]                          |       |                                    |
| touch | 生成一个空文件                     |                                       |       |                                    |
| echo  | 生成一个带内容文件                 | echo abcd > 1.txt，echo 1234 >> 1.txt |       |                                    |
| cat   | 显示文本文件内容                   | cat fileName                          |       |                                    |
| cp    | 复制文件或目录                     | cp [options] source dest              |       |                                    |
| rm    | 删除文件                           | rm [options] name                     |       |                                    |
|       |                                    |                                       | -f    | 强制删除文件或目录                 |
|       |                                    |                                       | -r    | 同时删除该目录下的所有文件         |
| mv    | 移动文件或目录                     | mv [options] source dest              |       |                                    |
| find  | 在文件系统中查找指定的文件         |                                       |       |                                    |
|       |                                    |                                       | -name | 文件名                             |
| grep  | 在指定的文本文件中查找指定的字符串 |                                       |       |                                    |
| tree  | 用于以树状图列出目录的内容         |                                       |       |                                    |
| pwd   | 显示当前工作目录                   |                                       |       |                                    |
| ln    | 建立软链接                         |                                       |       |                                    |
| more  | 分页显示文本文件内容               |                                       |       |                                    |
| head  | 显示文件开头内容                   |                                       |       |                                    |
| tail  | 显示文件结尾内容                   |                                       |       |                                    |
|       |                                    |                                       | -f    | 跟踪输出                           |

### 文件压缩命令

| 命令 | 语法                                        | 参数 | 参数说明                        |
| ---- | ------------------------------------------- | ---- | ------------------------------- |
| tar  | tar [-cxzjvf] 压缩打包文档的名称 欲打包目录 |      |                                 |
|      |                                             | -c   | 建立一个归档文件的参数指令      |
|      |                                             | -x   | 解开一个归档文件的参数指令      |
|      |                                             | -z   | 是否需要用 gzip 压缩            |
|      |                                             | -j   | 是否需要用 bzip2 压缩           |
|      |                                             | -v   | 压缩的过程中显示文件            |
|      |                                             | -f   | 使用档名，在 f 之后要立即接档名 |
|      |                                             | -tf  | 查看归档文件里面的文件          |

例子：

压缩文件夹：`tar -czvf test.tar.gz test\`
解压文件夹：`tar -xzvf test.tar.gz`

### 文件搜索命令

- `locate`：在后台数据库搜索文件
- `updatedb`：更新后台数据库
- `whereis`：搜索系统命令所在位置
- `which`：搜索命令所在路径及别名
- `find`：搜索文件或文件夹
